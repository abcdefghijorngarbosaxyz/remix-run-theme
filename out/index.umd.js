!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e||self).remixRunTheme={},e.react)}(this,function(e,t){function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=/*#__PURE__*/n(t),r=["light","dark"],a="(prefers-color-scheme: dark)",i="undefined"==typeof window,c=t.createContext(void 0),u={setTheme:function(e){},themes:[]},l=["light","dark"],s=function(e){var n=e.forcedTheme,i=e.disableTransitionOnChange,u=void 0!==i&&i,s=e.enableSystem,v=void 0===s||s,y=e.enableColorScheme,g=void 0===y||y,b=e.storageKey,p=void 0===b?"theme":b,T=e.themes,S=void 0===T?l:T,w=e.defaultTheme,C=void 0===w?v?"system":"light":w,E=e.attribute,k=void 0===E?"data-theme":E,x=e.value,L=e.children,I=e.nonce,M=t.useState(function(){return m(p,C)}),O=M[0],j=M[1],A=t.useState(function(){return m(p)}),K=A[0],N=A[1],J=x?Object.values(x):S,P=t.useCallback(function(e){var t=e;if(t){"system"===e&&v&&(t=h());var n,o=x?x[t]:t,a=u?f():null,i=document.documentElement;if("class"===k?((n=i.classList).remove.apply(n,J),o&&i.classList.add(o)):o?i.setAttribute(k,o):i.removeAttribute(k),g){var c=r.includes(C)?C:null,l=r.includes(t)?t:c;i.style.colorScheme=l}null==a||a()}},[]),_=t.useCallback(function(e){j(e);try{localStorage.setItem(p,e)}catch(e){}},[n]),q=t.useCallback(function(e){var t=h(e);N(t),"system"===O&&v&&!n&&P("system")},[O,n]);t.useEffect(function(){var e=window.matchMedia(a);return e.addListener(q),q(e),function(){return e.removeListener(q)}},[q]),t.useEffect(function(){var e=function(e){e.key===p&&_(e.newValue||C)};return window.addEventListener("storage",e),function(){return window.removeEventListener("storage",e)}},[_]),t.useEffect(function(){P(null!=n?n:O)},[n,O]);var z=t.useMemo(function(){return{theme:O,setTheme:_,forcedTheme:n,resolvedTheme:"system"===O?K:O,themes:v?[].concat(S,["system"]):S,systemTheme:v?K:void 0}},[O,_,n,K,v,S]);/*#__PURE__*/return o.default.createElement(c.Provider,{value:z},/*#__PURE__*/o.default.createElement(d,{forcedTheme:n,disableTransitionOnChange:u,enableSystem:v,enableColorScheme:g,storageKey:p,themes:S,defaultTheme:C,attribute:k,value:x,children:L,attrs:J,nonce:I}),L)},d=t.memo(function(e){var t=e.forcedTheme,n=e.storageKey,i=e.attribute,c=e.enableSystem,u=e.enableColorScheme,l=e.defaultTheme,s=e.value,d=e.nonce,m="system"===l,f="class"===i?"var d=document.documentElement,c=d.classList;c.remove("+e.attrs.map(function(e){return"'"+e+"'"}).join(",")+");":"var d=document.documentElement,n='"+i+"',s='setAttribute';",h=u?r.includes(l)&&l?"if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'"+l+"'":"if(e==='light'||e==='dark')d.style.colorScheme=e":"",v=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0);var o=s?s[e]:e,a=t?e+"|| ''":"'"+o+"'",c="";return u&&n&&!t&&r.includes(e)&&(c+="d.style.colorScheme = '"+e+"';"),"class"===i?c+=t||o?"c.add("+a+")":"null":o&&(c+="d[s](n,"+a+")"),c},y=t?"!function(){"+f+v(t)+"}()":c?"!function(){try{"+f+"var e=localStorage.getItem('"+n+"');if('system'===e||(!e&&"+m+")){var t='"+a+"',m=window.matchMedia(t);if(m.media!==t||m.matches){"+v("dark")+"}else{"+v("light")+"}}else if(e){"+(s?"var x="+JSON.stringify(s)+";":"")+v(s?"x[e]":"e",!0)+"}"+(m?"":"else{"+v(l,!1,!1)+"}")+h+"}catch(e){}}()":"!function(){try{"+f+"var e=localStorage.getItem('"+n+"');if(e){"+(s?"var x="+JSON.stringify(s)+";":"")+v(s?"x[e]":"e",!0)+"}else{"+v(l,!1,!1)+";}"+h+"}catch(t){}}();";/*#__PURE__*/return o.default.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:y}})},function(){return!0}),m=function(e,t){if(!i){var n;try{n=localStorage.getItem(e)||void 0}catch(e){}return n||t}},f=function(){var e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),function(){window.getComputedStyle(document.body),setTimeout(function(){document.head.removeChild(e)},1)}},h=function(e){return e||(e=window.matchMedia(a)),e.matches?"dark":"light"};e.ThemeProvider=function(e){return t.useContext(c)?/*#__PURE__*/o.default.createElement(t.Fragment,null,e.children):/*#__PURE__*/o.default.createElement(s,e)},e.useTheme=function(){var e;return null!=(e=t.useContext(c))?e:u}});
